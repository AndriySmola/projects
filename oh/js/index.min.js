import{b as u,a as f,u as g}from"./common.min.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();function w(){document.addEventListener("click",function(l){f&&l.target.closest("[data-fls-menu]")&&(u(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",w);function m(){const l=document.querySelector("[data-fls-header-scroll]"),e=l.hasAttribute("data-fls-header-scroll-show"),s=l.dataset.flsHeaderScrollShow?l.dataset.flsHeaderScrollShow:500,t=l.dataset.flsHeaderScroll?l.dataset.flsHeaderScroll:1;let r=0,o;document.addEventListener("scroll",function(c){const n=window.scrollY;clearTimeout(o),n>=t?(l.classList.contains("--header-scroll")||l.classList.add("--header-scroll"),e&&(n>r?l.classList.contains("--header-show")&&l.classList.remove("--header-show"):l.classList.contains("--header-show")||l.classList.add("--header-show"),o=setTimeout(()=>{l.classList.contains("--header-show")||l.classList.add("--header-show")},s))):(l.classList.contains("--header-scroll")&&l.classList.remove("--header-scroll"),e&&l.classList.contains("--header-show")&&l.classList.remove("--header-show")),r=n<=0?0:n})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",m);class L{constructor(e){let s={logging:!0};this.config=Object.assign(s,e),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(e){e.length&&g(Array.from(e).map(function(t){if(t.dataset.flsWatcher==="navigator"&&!t.dataset.flsWatcherThreshold){let r;t.clientHeight>2?(r=window.innerHeight/2/(t.clientHeight-1),r>1&&(r=1)):r=1,t.setAttribute("data-fls-watcher-threshold",r.toFixed(2))}return`${t.dataset.flsWatcherRoot?t.dataset.flsWatcherRoot:null}|${t.dataset.flsWatcherMargin?t.dataset.flsWatcherMargin:"0px"}|${t.dataset.flsWatcherThreshold?t.dataset.flsWatcherThreshold:0}`})).forEach(t=>{let r=t.split("|"),o={root:r[0],margin:r[1],threshold:r[2]},c=Array.from(e).filter(function(a){let i=a.dataset.flsWatcherRoot?a.dataset.flsWatcherRoot:null,d=a.dataset.flsWatcherMargin?a.dataset.flsWatcherMargin:"0px",h=a.dataset.flsWatcherThreshold?a.dataset.flsWatcherThreshold:0;if(String(i)===o.root&&String(d)===o.margin&&String(h)===o.threshold)return a}),n=this.getScrollWatcherConfig(o);this.scrollWatcherInit(c,n)})}getScrollWatcherConfig(e){let s={};if(document.querySelector(e.root)?s.root=document.querySelector(e.root):e.root,s.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if(e.threshold==="prx"){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return s.threshold=e.threshold,s}}scrollWatcherCreate(e){this.observer=new IntersectionObserver((s,t)=>{s.forEach(r=>{this.scrollWatcherCallback(r,t)})},e)}scrollWatcherInit(e,s){this.scrollWatcherCreate(s),e.forEach(t=>this.observer.observe(t))}scrollWatcherIntersecting(e,s){e.isIntersecting?s.classList.contains("--watcher-view")||s.classList.add("--watcher-view"):s.classList.contains("--watcher-view")&&s.classList.remove("--watcher-view")}scrollWatcherOff(e,s){s.unobserve(e)}scrollWatcherCallback(e,s){const t=e.target;this.scrollWatcherIntersecting(e,t),t.hasAttribute("data-fls-watcher-once")&&e.isIntersecting&&this.scrollWatcherOff(t,s),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new L({}));
